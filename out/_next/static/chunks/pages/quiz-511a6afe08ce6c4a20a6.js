(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[498],{8934:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return p}});var r=e(5893),o=e(1385),i=e(7294),c=e(9704),u=e(3347),a=e(7175),s=e.n(a),l=e(3829),f=e.n(l),d=function(n){var t=n.currentTopic,e=n.wordData,o=n.onNext,c=n.setAnswer,a=(0,u.Z)(),l=(0,i.useState)(""),d=l[0],h=l[1],v=e.en,p=e.zh,_=e.parts,w=e.id;return(0,i.useEffect)((function(){h("")}),[e]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:f().title,children:["\u7b2c"," ",t+1," ","\u984c"]}),(0,r.jsx)("div",{className:f().textInput,children:(0,r.jsx)("input",{type:"text",value:d,onChange:function(n){var t=n.target.value;h(t)},placeholder:"\u8acb\u8f38\u5165\u6b63\u78ba\u7684\u82f1\u6587\u55ae\u5b57"})}),(0,r.jsxs)("div",{className:f().descriptionArea,children:[(0,r.jsx)("div",{className:f().speechBtn,children:(0,r.jsx)("button",{type:"button","aria-label":"speech",className:s()["speech-btn"],onClick:function(){return a(v)}})}),p.map((function(n,t){var e="".concat(w,"_zh-").concat(t);return(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:f().part,children:_[t]}),(0,r.jsx)("span",{children:n})]},e)}))]}),(0,r.jsxs)("div",{className:"".concat(f().footer),children:[(0,r.jsx)("button",{type:"button",className:"".concat(f().button),onClick:function(){var n=!(d!==v);c({id:w,anwser:d.trim(),solution:v,result:n})},children:"\u78ba\u5b9a"}),(0,r.jsx)("button",{type:"button",className:"".concat(f().button),onClick:function(){c({id:w,anwser:"",solution:v,result:!1}),o()},children:"\u4e0b\u4e00\u984c"})]})]})})},h=function(n,t){for(var e=[],r=[];e.length<n;){var o=Math.round(Math.random()*t);r[o]||(r[o]=!0,e.push(o))}return e},v=e(6624),p=function(){var n=(0,c.I0)(),t=(0,c.v9)((function(n){return n.collection.words})),e=(0,c.v9)((function(n){return n.examination})),u=e.isExamTesting,a=e.questions,s=(0,i.useState)(0),l=s[0],p=s[1],_=(0,i.useState)([]),w=_[0],m=_[1],b=function(){var t=l+1;t>9?(p(0),n((0,v.d9)([])),n((0,v.Lf)(!1))):p(t)};return(0,i.useEffect)((function(){return function(){n((0,v.Lf)(!1))}}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"title",children:"\u55ae\u5b57\u6e2c\u9a57"}),(0,r.jsx)("div",{className:"content size-small",children:u?(0,r.jsx)(d,{currentTopic:l,wordData:a[l],onNext:b,setAnswer:function(n){m([].concat((0,o.Z)(w),[n])),b()}}):(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:"\u517110\u984c\u586b\u7a7a\u984c"}),(0,r.jsx)("div",{className:"".concat(f().footer),children:(0,r.jsx)("button",{type:"button",className:"".concat(f().button),onClick:function(){var e=h(10,t.length);p(0),m([]),n((0,v.d9)(e.map((function(n){return t[n]})))),n((0,v.Lf)(!0))},children:"\u958b\u59cb\u6e2c\u9a57"})})]})})]})}},3347:function(n,t,e){"use strict";var r=e(7294),o=e(5827);t.Z=function(){var n=(0,o.h5)(),t=n.speak,e=n.speaking;return(0,r.useCallback)((function(n){!1===e&&t({text:n})}),[t,e])}},4703:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quiz",function(){return e(8934)}])},7175:function(n){n.exports={"fab-btn":"button_fab-btn__3WWnB","fab__sort-down-btn":"button_fab__sort-down-btn__3smar","is-down-alt":"button_is-down-alt__7NUFE","fab__update-btn":"button_fab__update-btn__3hUwH","speech-btn":"button_speech-btn__3FkzA"}},3829:function(n){n.exports={title:"examination_title__G5N6Y",button:"examination_button__15LQY",footer:"examination_footer__R5eSm",textInput:"examination_textInput__15FrI",descriptionArea:"examination_descriptionArea__3MTKR",speechBtn:"examination_speechBtn__1QyNM",part:"examination_part__1xX4f"}},5827:function(n,t,e){"use strict";var r=e(219);var o=e(4989);function i(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(t,"h5",{enumerable:!0,get:function(){return i(o).default}})},219:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,t){var e=[],r=!0,o=!1,i=void 0;try{for(var c,u=n[Symbol.iterator]();!(r=(c=u.next()).done)&&(e.push(c.value),!t||e.length!==t);r=!0);}catch(a){o=!0,i=a}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return e}(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=e(7294);var i=function(n,t){var e=(0,o.useRef)((function(){throw new Error("Cannot call an event handler while rendering.")}));return(0,o.useEffect)((function(){e.current=n}),[n].concat(function(n){if(Array.isArray(n)){for(var t=0,e=Array(n.length);t<n.length;t++)e[t]=n[t];return e}return Array.from(n)}(t))),(0,o.useCallback)((function(n){return(0,e.current)(n)}),[e])};t.default=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.onEnd,e=void 0===t?function(){}:t,c=n.onResult,u=void 0===c?function(){}:c,a=n.onError,s=void 0===a?function(){}:a,l=(0,o.useRef)(null),f=(0,o.useState)(!1),d=r(f,2),h=d[0],v=d[1],p=(0,o.useState)(!1),_=r(p,2),w=_[0],m=_[1],b=function(n){var t=Array.from(n.results).map((function(n){return n[0]})).map((function(n){return n.transcript})).join("");u(t)},x=function(n){"not-allowed"===n.error&&(l.current.onend=function(){},v(!1)),s(n)},y=i((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!h&&w){var t=n.lang,e=void 0===t?"":t,r=n.interimResults,o=void 0===r||r,i=n.continuous,c=void 0!==i&&i,u=n.maxAlternatives,a=void 0===u?1:u,s=n.grammars;v(!0),l.current.lang=e,l.current.interimResults=o,l.current.onresult=b,l.current.onerror=x,l.current.continuous=c,l.current.maxAlternatives=a,s&&(l.current.grammars=s),l.current.onend=function(){return l.current.start()},l.current.start()}}),[h,w,l]),g=i((function(){h&&w&&(l.current.onresult=function(){},l.current.onend=function(){},l.current.onerror=function(){},v(!1),l.current.stop(),e())}),[h,w,l,e]);return(0,o.useEffect)((function(){"undefined"!==typeof window&&(window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition,window.SpeechRecognition&&(m(!0),l.current=new window.SpeechRecognition))}),[]),{listen:y,listening:h,stop:g,supported:w}}},4989:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,t){var e=[],r=!0,o=!1,i=void 0;try{for(var c,u=n[Symbol.iterator]();!(r=(c=u.next()).done)&&(e.push(c.value),!t||e.length!==t);r=!0);}catch(a){o=!0,i=a}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return e}(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=e(7294);t.default=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.onEnd,e=void 0===t?function(){}:t,i=(0,o.useState)([]),c=r(i,2),u=c[0],a=c[1],s=(0,o.useState)(!1),l=r(s,2),f=l[0],d=l[1],h=(0,o.useState)(!1),v=r(h,2),p=v[0],_=v[1],w=function(n){a(n)},m=function(){var n=window.speechSynthesis.getVoices();n.length>0?w(n):window.speechSynthesis.onvoiceschanged=function(t){n=t.target.getVoices(),w(n)}},b=function(){d(!1),e()};(0,o.useEffect)((function(){"undefined"!==typeof window&&window.speechSynthesis&&(_(!0),m())}),[]);var x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.voice,e=void 0===t?null:t,r=n.text,o=void 0===r?"":r,i=n.rate,c=void 0===i?1:i,u=n.pitch,a=void 0===u?1:u,s=n.volume,l=void 0===s?1:s;if(p){d(!0);var f=new window.SpeechSynthesisUtterance;f.text=o,f.voice=e,f.onend=b,f.rate=c,f.pitch=a,f.volume=l,window.speechSynthesis.speak(f)}},y=function(){p&&(d(!1),window.speechSynthesis.cancel())};return{supported:p,speak:x,speaking:f,cancel:y,voices:u}}}},function(n){n.O(0,[774,888,179],(function(){return t=4703,n(n.s=t);var t}));var t=n.O();_N_E=t}]);