(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[498],{1823:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return x}});var r=e(5893),i=e(1385),o=e(7294),c=e(9704),a=e(3347),s=e(7175),u=e.n(s),l=e(3829),d=e.n(l),f=function(n){var t=n.currentTopic,e=n.wordData,i=n.onNext,c=n.setAnswer,s=(0,a.Z)(),l=(0,o.useState)(""),f=l[0],h=l[1],w=e.en,v=e.zh,p=e.parts,x=e.id;return(0,o.useEffect)((function(){h("")}),[e]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"tw-text-md tw-text-wine tw-leading-7 tw-mb-2.5",children:["\u7b2c"," ",t+1," ","\u984c"]}),(0,r.jsx)("div",{className:d().textInput,children:(0,r.jsx)("input",{type:"text",value:f,onChange:function(n){var t=n.target.value;h(t.toLowerCase())},placeholder:"\u8acb\u8f38\u5165\u6b63\u78ba\u7684\u82f1\u6587\u55ae\u5b57"})}),(0,r.jsxs)("div",{className:d().descriptionArea,children:[(0,r.jsx)("div",{className:d().speechBtn,children:(0,r.jsx)("button",{type:"button","aria-label":"speech",className:u()["speech-btn"],onClick:function(){return s(w)}})}),v.map((function(n,t){var e="".concat(x,"_zh-").concat(t);return(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:d().part,children:p[t]}),(0,r.jsx)("span",{children:n})]},e)}))]}),(0,r.jsxs)("div",{className:"tw-flex tw-justify-center",children:[(0,r.jsx)("button",{type:"button",className:"".concat(d().button),onClick:function(){var n=!(f!==w);c({id:x,anwser:f.trim(),solution:w,result:n})},children:"\u9001\u51fa"}),(0,r.jsx)("button",{type:"button",className:"".concat(d().button),onClick:function(){c({id:x,anwser:"",solution:w,result:!1}),i()},children:"\u7565\u904e"})]})]})})},h="tw-py-2.5 tw-px-4 tw-leading-relaxed tw-align-middle tw-text-center tw-border tw-border-white tw-border-solid tw-text-xs",w=function(n){var t=n.scoreList;return(0,r.jsx)("div",{className:"tw-w-full tw-overflow-x-auto tw-overflow-y-hidden",children:(0,r.jsxs)("table",{className:"tw-w-full tw-whitespace-nowrap",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"tw-bg-gray-light",children:[(0,r.jsx)("th",{className:h,children:"\u6210\u7e3e"}),(0,r.jsx)("th",{className:h,children:"\u984c\u76ee"}),(0,r.jsx)("th",{className:h,children:"\u4f60\u7684\u7b54\u6848"}),(0,r.jsx)("th",{className:h,children:"\u6b63\u78ba\u7b54\u6848"})]})}),(0,r.jsx)("tbody",{children:t.map((function(n){var t=n.id,e=n.anwser,i=n.solution,o=n.result;return(0,r.jsxs)("tr",{className:"tw-bg-gray-light",children:[(0,r.jsx)("td",{className:h,children:"".concat(o)}),(0,r.jsx)("td",{className:h,children:t}),(0,r.jsx)("td",{className:h,children:e}),(0,r.jsx)("td",{className:h,children:i})]})}))})]})})},v=function(n,t){for(var e=[],r=[];e.length<n;){var i=Math.round(Math.random()*t);r[i]||(r[i]=!0,e.push(i))}return e},p=e(6624),x=function(){var n=(0,c.I0)(),t=(0,c.v9)((function(n){return n.collection.words})),e=(0,c.v9)((function(n){return n.examination})),a=e.isExamTesting,s=e.questions,u=(0,o.useState)(0),l=u[0],h=u[1],x=(0,o.useState)([]),m=x[0],b=x[1],_=function(){var t=l+1;t>9?(h(0),n((0,p.d9)([])),n((0,p.Lf)(!1))):h(t)};return(0,o.useEffect)((function(){return function(){n((0,p.Lf)(!1))}}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"title",children:"\u55ae\u5b57\u6e2c\u9a57"}),(0,r.jsxs)("div",{className:"content size-small",children:[a?(0,r.jsx)(f,{currentTopic:l,wordData:s[l],onNext:_,setAnswer:function(n){b([].concat((0,i.Z)(m),[n])),_()}}):(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:"\u517110\u984c\u586b\u7a7a\u984c"}),(0,r.jsx)("div",{className:"".concat(d().footer),children:(0,r.jsx)("button",{type:"button",className:"".concat(d().button),onClick:function(){var e=v(10,t.length);h(0),b([]),n((0,p.d9)(e.map((function(n){return t[n]})))),n((0,p.Lf)(!0))},children:"\u958b\u59cb\u6e2c\u9a57"})})]}),(0,r.jsx)(w,{scoreList:m})]})]})}},3347:function(n,t,e){"use strict";var r=e(7294),i=e(5827);t.Z=function(){var n=(0,i.h5)(),t=n.speak,e=n.speaking;return(0,r.useCallback)((function(n){!1===e&&t({text:n})}),[t,e])}},4703:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quiz",function(){return e(1823)}])},7175:function(n){n.exports={"fab-btn":"button_fab-btn__3WWnB","fab__sort-down-btn":"button_fab__sort-down-btn__3smar","is-down-alt":"button_is-down-alt__7NUFE","fab__update-btn":"button_fab__update-btn__3hUwH","speech-btn":"button_speech-btn__3FkzA"}},3829:function(n){n.exports={button:"examination_button__15LQY",textInput:"examination_textInput__15FrI",descriptionArea:"examination_descriptionArea__3MTKR",speechBtn:"examination_speechBtn__1QyNM",part:"examination_part__1xX4f"}},5827:function(n,t,e){"use strict";var r=e(219);var i=e(4989);function o(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(t,"h5",{enumerable:!0,get:function(){return o(i).default}})},219:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,t){var e=[],r=!0,i=!1,o=void 0;try{for(var c,a=n[Symbol.iterator]();!(r=(c=a.next()).done)&&(e.push(c.value),!t||e.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return e}(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=e(7294);var o=function(n,t){var e=(0,i.useRef)((function(){throw new Error("Cannot call an event handler while rendering.")}));return(0,i.useEffect)((function(){e.current=n}),[n].concat(function(n){if(Array.isArray(n)){for(var t=0,e=Array(n.length);t<n.length;t++)e[t]=n[t];return e}return Array.from(n)}(t))),(0,i.useCallback)((function(n){return(0,e.current)(n)}),[e])};t.default=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.onEnd,e=void 0===t?function(){}:t,c=n.onResult,a=void 0===c?function(){}:c,s=n.onError,u=void 0===s?function(){}:s,l=(0,i.useRef)(null),d=(0,i.useState)(!1),f=r(d,2),h=f[0],w=f[1],v=(0,i.useState)(!1),p=r(v,2),x=p[0],m=p[1],b=function(n){var t=Array.from(n.results).map((function(n){return n[0]})).map((function(n){return n.transcript})).join("");a(t)},_=function(n){"not-allowed"===n.error&&(l.current.onend=function(){},w(!1)),u(n)},y=o((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!h&&x){var t=n.lang,e=void 0===t?"":t,r=n.interimResults,i=void 0===r||r,o=n.continuous,c=void 0!==o&&o,a=n.maxAlternatives,s=void 0===a?1:a,u=n.grammars;w(!0),l.current.lang=e,l.current.interimResults=i,l.current.onresult=b,l.current.onerror=_,l.current.continuous=c,l.current.maxAlternatives=s,u&&(l.current.grammars=u),l.current.onend=function(){return l.current.start()},l.current.start()}}),[h,x,l]),j=o((function(){h&&x&&(l.current.onresult=function(){},l.current.onend=function(){},l.current.onerror=function(){},w(!1),l.current.stop(),e())}),[h,x,l,e]);return(0,i.useEffect)((function(){"undefined"!==typeof window&&(window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition,window.SpeechRecognition&&(m(!0),l.current=new window.SpeechRecognition))}),[]),{listen:y,listening:h,stop:j,supported:x}}},4989:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,t){var e=[],r=!0,i=!1,o=void 0;try{for(var c,a=n[Symbol.iterator]();!(r=(c=a.next()).done)&&(e.push(c.value),!t||e.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return e}(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=e(7294);t.default=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.onEnd,e=void 0===t?function(){}:t,o=(0,i.useState)([]),c=r(o,2),a=c[0],s=c[1],u=(0,i.useState)(!1),l=r(u,2),d=l[0],f=l[1],h=(0,i.useState)(!1),w=r(h,2),v=w[0],p=w[1],x=function(n){s(n)},m=function(){var n=window.speechSynthesis.getVoices();n.length>0?x(n):window.speechSynthesis.onvoiceschanged=function(t){n=t.target.getVoices(),x(n)}},b=function(){f(!1),e()};(0,i.useEffect)((function(){"undefined"!==typeof window&&window.speechSynthesis&&(p(!0),m())}),[]);var _=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.voice,e=void 0===t?null:t,r=n.text,i=void 0===r?"":r,o=n.rate,c=void 0===o?1:o,a=n.pitch,s=void 0===a?1:a,u=n.volume,l=void 0===u?1:u;if(v){f(!0);var d=new window.SpeechSynthesisUtterance;d.text=i,d.voice=e,d.onend=b,d.rate=c,d.pitch=s,d.volume=l,window.speechSynthesis.speak(d)}},y=function(){v&&(f(!1),window.speechSynthesis.cancel())};return{supported:v,speak:_,speaking:d,cancel:y,voices:a}}}},function(n){n.O(0,[774,888,179],(function(){return t=4703,n(n.s=t);var t}));var t=n.O();_N_E=t}]);