(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[777],{3407:function(t,e,n){"use strict";n.d(e,{Ph:function(){return c},oH:function(){return s},KM:function(){return u}});var r=n(5893),i=n(7294),o=n(1898),a=n.n(o),c=function(t){var e=t.options,n=t.onChange,o=(0,i.useState)(""),c=o[0],s=o[1];(0,i.useEffect)((function(){var t=e.length>0?e[0].value:"";s(t)}),[e]);return(0,r.jsx)("div",{className:a().select,children:(0,r.jsx)("select",{value:c,onChange:function(t){s(t.target.value),n(t)},children:e.map((function(t){var e=t.value,n=t.name;return(0,r.jsx)("option",{value:e,children:n},e)}))})})},s=function(t){var e=t.defaultValue,n=void 0===e?"":e,i=t.placeholder,o=void 0===i?"":i,a=t.onChange;return(0,r.jsx)("input",{type:"text",className:"tw-w-full tw-h-10 tw-block tw-py-3 tw-px-4 tw-leading-4 tw-rounded-md tw-text-xs tw-bg-gray-light",value:n,onChange:a,placeholder:o})},u=function(t){var e=t.text,n=void 0===e?"":e,i=t.colorStyle,o=void 0===i?"green":i,a=t.isDisabled,c=void 0!==a&&a,s=t.onClick,u=void 0===s?function(){}:s;return(0,r.jsx)("button",{type:"button",className:"tw-min-w-105 tw-py-2 tw-px-5 tw-mx-1.5 tw-inline-block tw-text-sm tw-text-center tw-text-white tw-rounded-lg tw-leading-6 ".concat(c?"tw-bg-black tw-opacity-60 tw-cursor-not-allowed":"red"===o?"tw-bg-mark-red desktop:hover:tw-bg-wine":"tw-bg-green desktop:hover:tw-bg-green-dark"),onClick:u,title:n,children:n})}},1370:function(t,e,n){"use strict";var r=n(5893),i=n(7294),o=n(9704),a=n(4586),c=n(5369),s="tw-py-2.5 tw-px-4 tw-leading-relaxed tw-align-middle tw-text-center tw-border tw-border-gray-light tw-border-solid tw-text-xs";e.Z=function(t){var e=t.scoreList,n=void 0===e?[]:e,u=(0,o.v9)((function(t){return t.collection.words})),l=(0,i.useMemo)((function(){return n.map((function(t){var e=t.id,n=t.answer,i=t.solution,o=t.result,l=(0,a.Z)(),f=u.filter((function(t){return t.id===e}))[0];return(0,r.jsxs)("tr",{className:"tw-bg-white",children:[(0,r.jsx)("td",{className:s,children:o?(0,r.jsx)("div",{className:"tw-text-center before-font-material before:tw-w-6 before:tw-h-6 before:tw-leading-6 before:tw-block before:tw-m-auto before:tw-content-['\\e86c'] before:tw-text-mark-green"}):(0,r.jsx)("div",{className:"tw-text-center before-font-material before:tw-w-6 before:tw-h-6 before:tw-leading-6 before:tw-block before:tw-m-auto before:tw-content-['\\e5c9'] before:tw-text-mark-red"})}),(0,r.jsx)("td",{className:s,children:(0,r.jsx)("div",{className:"tw-min-w-200 tw-m-auto tw-whitespace-normal tablet:tw-min-w-0 tablet:tw-max-w-xs",children:(0,r.jsx)(c.Z,{id:f.id,wordsList:f.zh,partsList:f.parts})})}),(0,r.jsx)("td",{className:s,children:""===n?"-":n}),(0,r.jsx)("td",{className:s,children:i})]},l)}))}),[n,u]);return(0,r.jsx)("div",{className:"tw-w-full tw-overflow-x-auto tw-overflow-y-hidden tw-rounded-lg",children:(0,r.jsxs)("table",{className:"tw-w-full tw-whitespace-nowrap",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"tw-bg-green",children:[(0,r.jsx)("th",{className:"".concat(s," tw-text-white"),children:"\u6210\u7e3e"}),(0,r.jsx)("th",{className:"".concat(s," tw-text-white"),children:"\u984c\u76ee"}),(0,r.jsx)("th",{className:"".concat(s," tw-text-white"),children:"\u4f60\u7684\u7b54\u6848"}),(0,r.jsx)("th",{className:"".concat(s," tw-text-white"),children:"\u6b63\u78ba\u7b54\u6848"})]})}),(0,r.jsx)("tbody",{children:l})]})})}},5369:function(t,e,n){"use strict";var r=n(5893);n(7294);e.Z=function(t){var e=t.id,n=t.wordsList,i=t.partsList,o=t.hasBrackets,a=void 0!==o&&o,c=t.hasTextCenter,s=void 0!==c&&c,u=t.hasSpeechButton,l=void 0!==u&&u,f=t.onSpeech,d=void 0===f?function(){}:f;return(0,r.jsx)(r.Fragment,{children:n.map((function(t,n){var o="".concat(e,"_zh-").concat(n);return(0,r.jsxs)("div",{className:s?"tw-flex tw-justify-center tw-items-start":"",children:[l&&0===n&&(0,r.jsx)("button",{type:"button","aria-label":"speech",className:"tw-inline-block tw-align-top tw-mr-1 tw-leading-8 before-font-material before:tw-content-['\\e050'] before:tw-w-8 before:tw-h-8 before:tw-block before:tw-leading-8 before:tw-text-center",onClick:function(t){t.preventDefault(),t.stopPropagation(),d()}}),(0,r.jsxs)("span",{className:"tw-mr-2.5 tw-font-bold",children:[a&&"(",i[n],".",a&&")"]}),(0,r.jsx)("span",{children:t})]},o)}))})}},1637:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return y}});var r=n(5893),i=n(1163),o=n(7294),a=n(9704),c=n(1385),s=n(7484),u=n.n(s),l=n(3407),f=n(1370),d=n(4977),w=n(5369),h=n(3347),v=function(t){var e=t.currentIndex,n=t.wordData,a=t.setAnswer,c=(0,i.useRouter)(),s=(0,h.Z)(),u=(0,o.useState)(""),f=u[0],v=u[1],x=(0,o.useState)(!1),m=x[0],b=x[1],p=n.en,g=n.zh,y=n.parts,j=n.id;return(0,o.useEffect)((function(){v("")}),[n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"tw-flex tw-items-center tw-justify-between tw-mb-4",children:[(0,r.jsxs)("div",{className:"tw-text-md tw-text-wine tw-leading-7",children:["\u7b2c"," ",e+1," ","\u984c"]}),(0,r.jsx)("button",{type:"button",onClick:function(){return b(!0)},className:"tw-flex tw-items-center tw-text-xs tw-text-green-dark hover:tw-text-green before-font-material before:tw-content-['\\e15e'] before:tw-block before:tw-mr-1",children:"\u96e2\u958b\u6e2c\u9a57"})]}),(0,r.jsx)("div",{className:"tw-mb-4",children:(0,r.jsx)(l.oH,{defaultValue:f,onChange:function(t){var e=t.target.value;v(e.toLowerCase())},placeholder:"\u8acb\u8f38\u5165\u6b63\u78ba\u7684\u82f1\u6587\u55ae\u5b57"})}),(0,r.jsxs)("div",{className:"tw-pl-8 tw-relative tw-overflow-hidden tw-leading-7 tw-mb-4 tw-text-sm tw-text-black",children:[(0,r.jsx)("div",{className:"tw-absolute tw-top-0 tw-left-0",children:(0,r.jsx)("button",{type:"button","aria-label":"speech",className:"tw-inline-block tw-align-top tw-leading-7 before-font-material before:tw-content-['\\e050'] before:tw-w-7 before:tw-h-7 before:tw-block before:tw-leading-7 before:tw-text-center",onClick:function(){return s(p)}})}),(0,r.jsx)("div",{className:"tw-leading-7 tw-text-xs tablet:tw-text-sm",children:(0,r.jsx)(w.Z,{id:j,wordsList:g,partsList:y})})]}),(0,r.jsxs)("div",{className:"tw-flex tw-justify-center tw-mt-6",children:[(0,r.jsx)(l.KM,{text:"\u9001\u51fa",isDisabled:!(""!==f.trim()),onClick:function(){var t=f.trim();""!==t&&a({id:j,answer:t,solution:p,result:!(t!==p)})}}),(0,r.jsx)(l.KM,{text:"\u7565\u904e",onClick:function(){a({id:j,answer:"",solution:p,result:!1})}})]})]}),(0,r.jsx)(d.Z,{show:m,title:"\u78ba\u5b9a\u8981\u96e2\u958b\u6e2c\u9a57\uff1f",content:"\u6e2c\u9a57\u7d00\u9304\u5c07\u4e0d\u6703\u88ab\u4fdd\u5b58",confirmText:"\u78ba\u5b9a",cancelText:"\u53d6\u6d88",onConfirm:function(){return c.back()},onCancel:function(){return b(!1)}})]})},x=n(3351),m=n(7554),b=n(3235),p=n(347),g=function(t){var e=t.id,n=void 0===e?"writed-exam":e,s=t.quantity,d=void 0===s?10:s,w=u()(),h=(0,i.useRouter)(),g=(0,a.I0)(),y=(0,a.v9)((function(t){return t.collection.words})),j=(0,a.v9)((function(t){return t.daily.dailyWords})),k=(0,a.v9)((function(t){return t.exam})),N=k.isExamTesting,S=k.recordCollection,C=(0,o.useState)([]),E=C[0],R=C[1],_=(0,o.useState)([]),Z=_[0],A=_[1],L=(0,o.useState)(!0),M=L[0],T=L[1],O=(0,o.useState)(!1),V=O[0],I=O[1],D=(0,o.useState)(0),K=D[0],P=D[1],q=(0,o.useState)(0),z=q[0],U=q[1],F=(0,o.useState)(0),B=F[0],H=F[1],W=(0,o.useCallback)((function(){switch(g((0,p.Lf)(!1)),T(!0),I(!1),P(0),A([]),n){case"daily-writed-exam":var t=(0,c.Z)(j).sort((function(){return Math.random()>.5?-1:1}));R(t);break;default:var e=(0,b.Z)(d,y.length);R(e.map((function(t){return y[t]})))}H(w.valueOf()),T(!1),g((0,p.Lf)(!0))}),[d,y,j]),X=(0,o.useCallback)((function(){P(0),R([]),I(!0),g((0,p.Lf)(!1))}),[n,B,z,Z,S]);return(0,o.useEffect)((function(){return W(),function(){g((0,p.Lf)(!1))}}),[]),(0,o.useEffect)((function(){U((0,m.Z)(Z))}),[Z]),(0,o.useEffect)((function(){if(V&&Z.length===d){var t=[{id:n,startTime:B,finishTime:w.valueOf(),answerState:(0,c.Z)(Z)}].concat((0,c.Z)(S));g((0,p.jh)(t))}}),[Z,V]),(0,r.jsxs)("div",{children:[M&&(0,r.jsx)("div",{className:"tw-text-center tw-text-green tw-py-8",children:"\u8cc7\u6599\u8f09\u5165\u4e2d..."}),!M&&N&&(0,r.jsx)(v,{currentIndex:K,wordData:E[K],setAnswer:function(t){A([].concat((0,c.Z)(Z),[t])),function(){var t=K+1;t>d-1?X():P(t)}()}}),!M&&!N&&V&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"tw-text-wine/80 tw-my-6 tw-text-md tw-text-center",children:(0,x.Z)(n)}),(0,r.jsxs)("div",{className:"tw-w-full tw-mb-8 tw-text-base tw-text-green-dark tw-text-center tw-flex tw-items-center tw-justify-center before-font-material before:tw-content-['\\e8e8'] before:tw-block before:tw-mr-2",children:["\u6211\u7684\u5206\u6578\uff1a",z,"\u5206"]}),(0,r.jsx)(f.Z,{scoreList:Z}),(0,r.jsxs)("div",{className:"tw-my-5 tw-flex tw-justify-center",children:[(0,r.jsx)(l.KM,{text:"\u518d\u6b21\u6e2c\u9a57",onClick:W}),(0,r.jsx)(l.KM,{text:"\u96e2\u958b\u6e2c\u9a57",onClick:function(){return h.back()}})]})]})]})},y=function(){var t=(0,i.useRouter)(),e=t.query.id,n=(0,a.I0)(),c=(0,a.v9)((function(t){return t.collection.words})),s=(0,a.v9)((function(t){return t.daily.dailyWords})),u=(0,a.v9)((function(t){return t.exam})).isExamAction;(0,o.useEffect)((function(){return function(){n((0,p.oy)(!1))}}),[]),(0,o.useEffect)((function(){!1===u&&t.push("/quiz")}),[u]);var l=function(){return(0,r.jsx)("div",{className:"tw-py-8 tw-my-4 tw-text-center tw-text-gray",children:"DATA ERROR"})},f=(0,o.useMemo)((function(){if(u&&c.length)switch(e){case"writed-exam":return c.length>=10?(0,r.jsx)(g,{id:"writed-exam",quantity:10}):(0,r.jsx)(l,{});case"daily-writed-exam":return s.length?(0,r.jsx)(g,{id:"daily-writed-exam",quantity:s.length}):(0,r.jsx)(l,{});default:return(0,r.jsx)(l,{})}return(0,r.jsx)(l,{})}),[e,u,c,s]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"title",children:"\u55ae\u5b57\u6e2c\u9a57"}),(0,r.jsx)("div",{className:"content",children:f})]})}},3351:function(t,e){"use strict";e.Z=function(t){switch(t){case"writed-exam":return"\u55ae\u5b57\u586b\u7a7a\u6e2c\u9a57";case"daily-writed-exam":return"\u4eca\u65e5\u55ae\u5b57\u586b\u7a7a\u6e2c\u9a57";default:return""}}},7554:function(t,e,n){"use strict";var r=n(1385);e.Z=function(t){var e=(0,r.Z)(t),n=e.filter((function(t){return!0===t.result})).length/e.length,i=Number.isNaN(n)?0:n;return Math.floor(100*i)}},3347:function(t,e,n){"use strict";var r=n(7294),i=n(5827);e.Z=function(){var t=(0,i.h5)(),e=t.speak,n=t.speaking;return(0,r.useCallback)((function(t){!1===n&&e({text:t,voices:{default:!0,lang:"en",localService:!0,name:"Karen",voiceURI:"Karen"}})}),[e,n])}},8933:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quiz/[id]",function(){return n(1637)}])},1898:function(t){t.exports={select:"form_select__100yN"}},5827:function(t,e,n){"use strict";var r=n(219);var i=n(4989);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"h5",{enumerable:!0,get:function(){return o(i).default}})},219:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(7294);var o=function(t,e){var n=(0,i.useRef)((function(){throw new Error("Cannot call an event handler while rendering.")}));return(0,i.useEffect)((function(){n.current=t}),[t].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e))),(0,i.useCallback)((function(t){return(0,n.current)(t)}),[n])};e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onEnd,n=void 0===e?function(){}:e,a=t.onResult,c=void 0===a?function(){}:a,s=t.onError,u=void 0===s?function(){}:s,l=(0,i.useRef)(null),f=(0,i.useState)(!1),d=r(f,2),w=d[0],h=d[1],v=(0,i.useState)(!1),x=r(v,2),m=x[0],b=x[1],p=function(t){var e=Array.from(t.results).map((function(t){return t[0]})).map((function(t){return t.transcript})).join("");c(e)},g=function(t){"not-allowed"===t.error&&(l.current.onend=function(){},h(!1)),u(t)},y=o((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!w&&m){var e=t.lang,n=void 0===e?"":e,r=t.interimResults,i=void 0===r||r,o=t.continuous,a=void 0!==o&&o,c=t.maxAlternatives,s=void 0===c?1:c,u=t.grammars;h(!0),l.current.lang=n,l.current.interimResults=i,l.current.onresult=p,l.current.onerror=g,l.current.continuous=a,l.current.maxAlternatives=s,u&&(l.current.grammars=u),l.current.onend=function(){return l.current.start()},l.current.start()}}),[w,m,l]),j=o((function(){w&&m&&(l.current.onresult=function(){},l.current.onend=function(){},l.current.onerror=function(){},h(!1),l.current.stop(),n())}),[w,m,l,n]);return(0,i.useEffect)((function(){"undefined"!==typeof window&&(window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition,window.SpeechRecognition&&(b(!0),l.current=new window.SpeechRecognition))}),[]),{listen:y,listening:w,stop:j,supported:m}}},4989:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(7294);e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onEnd,n=void 0===e?function(){}:e,o=(0,i.useState)([]),a=r(o,2),c=a[0],s=a[1],u=(0,i.useState)(!1),l=r(u,2),f=l[0],d=l[1],w=(0,i.useState)(!1),h=r(w,2),v=h[0],x=h[1],m=function(t){s(t)},b=function(){var t=window.speechSynthesis.getVoices();t.length>0?m(t):window.speechSynthesis.onvoiceschanged=function(e){t=e.target.getVoices(),m(t)}},p=function(){d(!1),n()};(0,i.useEffect)((function(){"undefined"!==typeof window&&window.speechSynthesis&&(x(!0),b())}),[]);var g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.voice,n=void 0===e?null:e,r=t.text,i=void 0===r?"":r,o=t.rate,a=void 0===o?1:o,c=t.pitch,s=void 0===c?1:c,u=t.volume,l=void 0===u?1:u;if(v){d(!0);var f=new window.SpeechSynthesisUtterance;f.text=i,f.voice=n,f.onend=p,f.rate=a,f.pitch=s,f.volume=l,window.speechSynthesis.speak(f)}},y=function(){v&&(d(!1),window.speechSynthesis.cancel())};return{supported:v,speak:g,speaking:f,cancel:y,voices:c}}},4586:function(t,e,n){"use strict";var r;n.d(e,{Z:function(){return f}});var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var c=function(t){return"string"===typeof t&&a.test(t)},s=[],u=0;u<256;++u)s.push((u+256).toString(16).substr(1));var l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[t[e+0]]+s[t[e+1]]+s[t[e+2]]+s[t[e+3]]+"-"+s[t[e+4]]+s[t[e+5]]+"-"+s[t[e+6]]+s[t[e+7]]+"-"+s[t[e+8]]+s[t[e+9]]+"-"+s[t[e+10]]+s[t[e+11]]+s[t[e+12]]+s[t[e+13]]+s[t[e+14]]+s[t[e+15]]).toLowerCase();if(!c(n))throw TypeError("Stringified UUID is invalid");return n};var f=function(t,e,n){var r=(t=t||{}).random||(t.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return l(r)}}},function(t){t.O(0,[774,888,179],(function(){return e=8933,t(t.s=e);var e}));var e=t.O();_N_E=e}]);