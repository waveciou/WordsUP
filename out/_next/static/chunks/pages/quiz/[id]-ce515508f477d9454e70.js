(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[777],{5369:function(t,e,n){"use strict";var r=n(5893);n(7294);e.Z=function(t){var e=t.id,n=t.wordsList,o=t.partsList,i=t.hasBrackets,s=void 0!==i&&i,a=t.hasTextCenter,c=void 0!==a&&a,u=t.hasSpeechButton,l=void 0!==u&&u,d=t.onSpeech,w=void 0===d?function(){}:d;return(0,r.jsx)(r.Fragment,{children:n.map((function(t,n){var i="".concat(e,"_zh-").concat(n);return(0,r.jsxs)("div",{className:c?"tw-flex tw-justify-center tw-items-start":"",children:[l&&0===n&&(0,r.jsx)("button",{type:"button","aria-label":"speech",className:"tw-inline-block tw-align-top tw-mr-1 tw-leading-8 before-font-material before:tw-content-['\\e050'] before:tw-w-8 before:tw-h-8 before:tw-block before:tw-leading-8 before:tw-text-center",onClick:w}),(0,r.jsxs)("span",{className:"tw-mr-2.5 tw-font-bold",children:[s&&"(",o[n],".",s&&")"]}),(0,r.jsx)("span",{children:t})]},i)}))})}},7099:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return j}});var r=n(5893),o=n(1163),i=n(7294),s=n(9704),a=n(1385),c=n(4586),u=n(5369),l="tw-py-2.5 tw-px-4 tw-leading-relaxed tw-align-middle tw-text-center tw-border tw-border-gray-light tw-border-solid tw-text-xs",d=function(t){var e=t.scoreList,n=void 0===e?[]:e,o=(0,s.v9)((function(t){return t.collection.words})),a=(0,i.useMemo)((function(){return n.map((function(t){var e=t.id,n=t.answer,i=t.solution,s=t.result,a=(0,c.Z)(),d=o.filter((function(t){return t.id===e}))[0];return(0,r.jsxs)("tr",{className:"tw-bg-white",children:[(0,r.jsx)("td",{className:l,children:s?(0,r.jsx)("div",{className:"tw-text-center before-font-material before:tw-w-6 before:tw-h-6 before:tw-leading-6 before:tw-block before:tw-m-auto before:tw-content-['\\e86c'] before:tw-text-mark-green"}):(0,r.jsx)("div",{className:"tw-text-center before-font-material before:tw-w-6 before:tw-h-6 before:tw-leading-6 before:tw-block before:tw-m-auto before:tw-content-['\\e5c9'] before:tw-text-mark-red"})}),(0,r.jsx)("td",{className:l,children:(0,r.jsx)("div",{className:"tw-min-w-200 tw-m-auto tw-whitespace-normal tablet:tw-min-w-0 tablet:tw-max-w-xs",children:(0,r.jsx)(u.Z,{id:d.id,wordsList:d.zh,partsList:d.parts})})}),(0,r.jsx)("td",{className:l,children:""===n?"-":n}),(0,r.jsx)("td",{className:l,children:i})]},a)}))}),[n,o]);return(0,r.jsx)("div",{className:"tw-w-full tw-overflow-x-auto tw-overflow-y-hidden tw-rounded-lg",children:(0,r.jsxs)("table",{className:"tw-w-full tw-whitespace-nowrap",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"tw-bg-green",children:[(0,r.jsx)("th",{className:"".concat(l," tw-text-white"),children:"\u6210\u7e3e"}),(0,r.jsx)("th",{className:"".concat(l," tw-text-white"),children:"\u984c\u76ee"}),(0,r.jsx)("th",{className:"".concat(l," tw-text-white"),children:"\u4f60\u7684\u7b54\u6848"}),(0,r.jsx)("th",{className:"".concat(l," tw-text-white"),children:"\u6b63\u78ba\u7b54\u6848"})]})}),(0,r.jsx)("tbody",{children:a})]})})},w=n(3935),f=n(923),h=function(t){var e=t.show,n=t.title,o=t.content,s=t.confirmText,a=t.cancelText,c=t.onConfirm,u=void 0===c?function(){}:c,l=t.onCancel,d=void 0===l?function(){}:l,h=(0,i.useState)(!1),m=h[0],b=h[1],x=(0,i.useRef)(null);(0,i.useEffect)((function(){b(!0)}),[]),(0,i.useEffect)((function(){!0===e?document.documentElement.classList.add("is-fixed"):document.documentElement.classList.remove("is-fixed")}),[e]);var v=(0,r.jsx)(f.Z,{in:e,timeout:400,classNames:"fade",nodeRef:x,unmountOnExit:!0,appear:!0,children:(0,r.jsx)("div",{ref:x,className:"tw-w-full tw-h-full tw-flex tw-items-center tw-justify-center tw-fixed tw-top-0 tw-left-0 tw-z-6000 tw-bg-black/90",children:(0,r.jsxs)("div",{className:"tw-w-72 tw-relative tw-overflow-hidden tw-rounded-lg tw-bg-white",children:[(0,r.jsxs)("div",{className:"tw-p-4 tw-text-center",children:[(0,r.jsx)("div",{className:"tw-text-sm tw-leading-7",children:n}),(0,r.jsx)("div",{className:"tw-text-xxs tw-leading-7",children:o})]}),(0,r.jsxs)("div",{className:"tw-flex tw-border-t tw-border-gray tw-border-solid",children:[(0,r.jsx)("button",{type:"button",className:"tw-px-1 tw-py-2 tw-grow tw-text-sm",onClick:u,children:s}),a&&d&&(0,r.jsx)("button",{type:"button",className:"tw-px-1 tw-py-2 tw-grow tw-text-sm tw-border-l tw-border-t-0 tw-border-r-0 tw-border-b-0 tw-border-gray tw-border-solid",onClick:d,children:a})]})]})})});return!0===m?w.createPortal(v,document.getElementById("modal-root-alert")):null},m=n(3347),b=n(7175),x=n.n(b),v=function(t){var e=t.currentTopic,n=t.wordData,s=t.onNext,a=t.setAnswer,c=(0,o.useRouter)(),l=(0,m.Z)(),d=(0,i.useState)(""),w=d[0],f=d[1],b=(0,i.useState)(!1),v=b[0],p=b[1],g=n.en,y=n.zh,j=n.parts,N=n.id;return(0,i.useEffect)((function(){f("")}),[n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"tw-flex tw-items-center tw-justify-between tw-mb-4",children:[(0,r.jsxs)("div",{className:"tw-text-md tw-text-wine tw-leading-7",children:["\u7b2c"," ",e+1," ","\u984c"]}),(0,r.jsx)("button",{type:"button",onClick:function(){return p(!0)},className:"tw-flex tw-items-center tw-text-xs tw-text-green-dark hover:tw-text-green before-font-material before:tw-content-['\\e15e'] before:tw-block before:tw-mr-1",children:"\u96e2\u958b\u6e2c\u9a57"})]}),(0,r.jsx)("div",{className:"tw-mb-4",children:(0,r.jsx)("input",{type:"text",className:"tw-w-full tw-h-10 tw-block tw-py-3 tw-px-4 tw-leading-4 tw-rounded-md tw-text-xs tw-bg-gray-light",value:w,onChange:function(t){var e=t.target.value;f(e.toLowerCase())},placeholder:"\u8acb\u8f38\u5165\u6b63\u78ba\u7684\u82f1\u6587\u55ae\u5b57"})}),(0,r.jsxs)("div",{className:"tw-pl-8 tw-relative tw-overflow-hidden tw-leading-7 tw-mb-4 tw-text-sm tw-text-black",children:[(0,r.jsx)("div",{className:"tw-absolute tw-top-0 tw-left-0",children:(0,r.jsx)("button",{type:"button","aria-label":"speech",className:"tw-inline-block tw-align-top tw-leading-7 before-font-material before:tw-content-['\\e050'] before:tw-w-7 before:tw-h-7 before:tw-block before:tw-leading-7 before:tw-text-center",onClick:function(){return l(g)}})}),(0,r.jsx)("div",{className:"tw-leading-7 tw-text-xs tablet:tw-text-sm",children:(0,r.jsx)(u.Z,{id:N,wordsList:y,partsList:j})})]}),(0,r.jsxs)("div",{className:"tw-flex tw-justify-center tw-mt-6",children:[(0,r.jsx)("button",{type:"button",className:"\n              ".concat(x()["basic-btn"],"\n              ").concat(""===w.trim()?x()["is-disabled"]:"","\n            "),onClick:function(){var t=w.trim();""!==t&&a({id:N,answer:t,solution:g,result:!(t!==g)})},children:"\u9001\u51fa"}),(0,r.jsx)("button",{type:"button",className:x()["basic-btn"],onClick:function(){a({id:N,answer:"",solution:g,result:!1}),s()},children:"\u7565\u904e"})]})]}),(0,r.jsx)(h,{show:v,title:"\u78ba\u5b9a\u8981\u96e2\u958b\u6e2c\u9a57\uff1f",content:"\u6e2c\u9a57\u7d00\u9304\u5c07\u4e0d\u6703\u4fdd\u5b58",confirmText:"\u78ba\u5b9a",cancelText:"\u53d6\u6d88",onConfirm:function(){return c.push("/quiz")},onCancel:function(){return p(!1)}})]})},p=function(t,e){for(var n=[],r=[];n.length<t;){var o=Math.round(Math.random()*e);r[o]||(r[o]=!0,n.push(o))}return n},g=function(t){var e=t.quantity,n=void 0===e?10:e,c=(0,o.useRouter)(),u=(0,s.v9)((function(t){return t.collection.words})),l=(0,i.useState)(!1),w=l[0],f=l[1],h=(0,i.useState)(!1),m=h[0],b=h[1],g=(0,i.useState)([]),y=g[0],j=g[1],N=(0,i.useState)(0),k=N[0],S=N[1],E=(0,i.useState)([]),_=E[0],C=E[1],R=(0,i.useState)(0),A=R[0],L=R[1],T=function(){var t=p(n,u.length);b(!1),S(0),C([]),j(t.map((function(t){return u[t]}))),f(!0)},z=function(){var t=k+1;t>n-1?(b(!0),S(0),j([]),f(!1)):S(t)};return(0,i.useEffect)((function(){T()}),[]),(0,i.useEffect)((function(){var t=_.filter((function(t){return!0===t.result})).length/_.length,e=Number.isNaN(t)?0:t,n=Math.floor(100*e);L(n)}),[_]),(0,r.jsxs)("div",{children:[w&&(0,r.jsx)(v,{currentTopic:k,wordData:y[k],onNext:z,setAnswer:function(t){C([].concat((0,a.Z)(_),[t])),z()}}),!w&&m&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"tw-text-wine/80 tw-my-8 tw-text-md tw-text-center",children:["\u6211\u7684\u5206\u6578\uff1a",A,"\u5206"]}),(0,r.jsx)(d,{scoreList:_}),(0,r.jsxs)("div",{className:"tw-my-5 tw-flex tw-justify-center",children:[(0,r.jsx)("button",{type:"button",className:x()["basic-btn"],onClick:T,children:"\u518d\u6b21\u6e2c\u9a57"}),(0,r.jsx)("button",{type:"button",className:x()["basic-btn"],onClick:function(){return c.push("/quiz")},children:"\u8fd4\u56de\u4e3b\u9801"})]})]})]})},y=n(6624),j=function(){var t=(0,o.useRouter)(),e=t.query.id,n=(0,s.I0)(),a=(0,s.v9)((function(t){return t.collection})).words,c=(0,s.v9)((function(t){return t.examination})).isExamTesting;(0,i.useEffect)((function(){return function(){n((0,y.Lf)(!1))}}),[]),(0,i.useEffect)((function(){!1===c&&t.push("/quiz")}),[c]);var u=(0,i.useCallback)((function(){if(c&&a.length)switch(e){case"writedExam":return(0,r.jsx)(g,{quantity:10});default:return(0,r.jsx)(r.Fragment,{})}return(0,r.jsx)(r.Fragment,{})}),[e,a,c]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"title",children:"\u55ae\u5b57\u6e2c\u9a57"}),(0,r.jsx)("div",{className:"content",children:u()})]})}},3347:function(t,e,n){"use strict";var r=n(7294),o=n(5827);e.Z=function(){var t=(0,o.h5)(),e=t.speak,n=t.speaking;return(0,r.useCallback)((function(t){!1===n&&e({text:t})}),[e,n])}},8933:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quiz/[id]",function(){return n(7099)}])},7175:function(t){t.exports={"speech-btn":"button_speech-btn__3FkzA","basic-btn":"button_basic-btn__1uj5D","is-disabled":"button_is-disabled__Yh-pI"}},5827:function(t,e,n){"use strict";var r=n(219);var o=n(4989);function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"h5",{enumerable:!0,get:function(){return i(o).default}})},219:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(7294);var i=function(t,e){var n=(0,o.useRef)((function(){throw new Error("Cannot call an event handler while rendering.")}));return(0,o.useEffect)((function(){n.current=t}),[t].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e))),(0,o.useCallback)((function(t){return(0,n.current)(t)}),[n])};e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onEnd,n=void 0===e?function(){}:e,s=t.onResult,a=void 0===s?function(){}:s,c=t.onError,u=void 0===c?function(){}:c,l=(0,o.useRef)(null),d=(0,o.useState)(!1),w=r(d,2),f=w[0],h=w[1],m=(0,o.useState)(!1),b=r(m,2),x=b[0],v=b[1],p=function(t){var e=Array.from(t.results).map((function(t){return t[0]})).map((function(t){return t.transcript})).join("");a(e)},g=function(t){"not-allowed"===t.error&&(l.current.onend=function(){},h(!1)),u(t)},y=i((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!f&&x){var e=t.lang,n=void 0===e?"":e,r=t.interimResults,o=void 0===r||r,i=t.continuous,s=void 0!==i&&i,a=t.maxAlternatives,c=void 0===a?1:a,u=t.grammars;h(!0),l.current.lang=n,l.current.interimResults=o,l.current.onresult=p,l.current.onerror=g,l.current.continuous=s,l.current.maxAlternatives=c,u&&(l.current.grammars=u),l.current.onend=function(){return l.current.start()},l.current.start()}}),[f,x,l]),j=i((function(){f&&x&&(l.current.onresult=function(){},l.current.onend=function(){},l.current.onerror=function(){},h(!1),l.current.stop(),n())}),[f,x,l,n]);return(0,o.useEffect)((function(){"undefined"!==typeof window&&(window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition,window.SpeechRecognition&&(v(!0),l.current=new window.SpeechRecognition))}),[]),{listen:y,listening:f,stop:j,supported:x}}},4989:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(7294);e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onEnd,n=void 0===e?function(){}:e,i=(0,o.useState)([]),s=r(i,2),a=s[0],c=s[1],u=(0,o.useState)(!1),l=r(u,2),d=l[0],w=l[1],f=(0,o.useState)(!1),h=r(f,2),m=h[0],b=h[1],x=function(t){c(t)},v=function(){var t=window.speechSynthesis.getVoices();t.length>0?x(t):window.speechSynthesis.onvoiceschanged=function(e){t=e.target.getVoices(),x(t)}},p=function(){w(!1),n()};(0,o.useEffect)((function(){"undefined"!==typeof window&&window.speechSynthesis&&(b(!0),v())}),[]);var g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.voice,n=void 0===e?null:e,r=t.text,o=void 0===r?"":r,i=t.rate,s=void 0===i?1:i,a=t.pitch,c=void 0===a?1:a,u=t.volume,l=void 0===u?1:u;if(m){w(!0);var d=new window.SpeechSynthesisUtterance;d.text=o,d.voice=n,d.onend=p,d.rate=s,d.pitch=c,d.volume=l,window.speechSynthesis.speak(d)}},y=function(){m&&(w(!1),window.speechSynthesis.cancel())};return{supported:m,speak:g,speaking:d,cancel:y,voices:a}}},4586:function(t,e,n){"use strict";var r;n.d(e,{Z:function(){return d}});var o=new Uint8Array(16);function i(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=function(t){return"string"===typeof t&&s.test(t)},c=[],u=0;u<256;++u)c.push((u+256).toString(16).substr(1));var l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n};var d=function(t,e,n){var r=(t=t||{}).random||(t.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return l(r)}}},function(t){t.O(0,[774,888,179],(function(){return e=8933,t(t.s=e);var e}));var e=t.O();_N_E=e}]);