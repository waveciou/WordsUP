(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[498],{5369:function(t,e,n){"use strict";var r=n(5893);n(7294);e.Z=function(t){var e=t.id,n=t.wordsList,i=t.partsList,o=t.hasBrackets,a=void 0!==o&&o,s=t.hasTextCenter,c=void 0!==s&&s,u=t.hasSpeechButton,l=void 0!==u&&u,d=t.onSpeech,f=void 0===d?function(){}:d;return(0,r.jsx)(r.Fragment,{children:n.map((function(t,n){var o="".concat(e,"_zh-").concat(n);return(0,r.jsxs)("div",{className:"".concat(c?"tw-flex tw-justify-center tw-items-start":""),children:[l&&0===n&&(0,r.jsx)("button",{type:"button","aria-label":"speech",className:"tw-inline-block tw-align-top tw-mr-1 tw-leading-8 before-font-material before:tw-content-['\\e050'] before:tw-w-8 before:tw-h-8 before:tw-block before:tw-leading-8 before:tw-text-center",onClick:f}),(0,r.jsxs)("span",{className:"tw-mr-2.5 tw-font-bold",children:[a&&"(",i[n],".",a&&")"]}),(0,r.jsx)("span",{children:t})]},o)}))})}},4482:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return p}});var r=n(5893),i=n(7294),o=n(9704),a=n(1385),s=n(5369),c="tw-py-2.5 tw-px-4 tw-leading-relaxed tw-align-middle tw-text-center tw-border tw-border-gray-light tw-border-solid tw-text-xs",u=function(t){var e=t.scoreList,n=void 0===e?[]:e,a=(0,o.v9)((function(t){return t.collection.words})),u=(0,i.useMemo)((function(){return n.map((function(t){var e=t.id,n=t.answer,i=t.solution,o=t.result,u=a.filter((function(t){return t.id===e}))[0];return(0,r.jsxs)("tr",{className:"tw-bg-white",children:[(0,r.jsx)("td",{className:c,children:o?(0,r.jsx)("div",{className:"tw-text-center before-font-material before:tw-w-6 before:tw-h-6 before:tw-leading-6 before:tw-block before:tw-m-auto before:tw-content-['\\e86c'] before:tw-text-mark-green"}):(0,r.jsx)("div",{className:"tw-text-center before-font-material before:tw-w-6 before:tw-h-6 before:tw-leading-6 before:tw-block before:tw-m-auto before:tw-content-['\\e5c9'] before:tw-text-mark-red"})}),(0,r.jsx)("td",{className:c,children:(0,r.jsx)("div",{className:"tw-min-w-200 tw-m-auto tw-whitespace-normal tablet:tw-min-w-0 tablet:tw-max-w-xs",children:(0,r.jsx)(s.Z,{id:u.id,wordsList:u.zh,partsList:u.parts})})}),(0,r.jsx)("td",{className:c,children:""===n?"-":n}),(0,r.jsx)("td",{className:c,children:i})]})}))}),[n,a]);return(0,r.jsx)("div",{className:"tw-w-full tw-overflow-x-auto tw-overflow-y-hidden tw-rounded-lg",children:(0,r.jsxs)("table",{className:"tw-w-full tw-whitespace-nowrap",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"tw-bg-green",children:[(0,r.jsx)("th",{className:"".concat(c," tw-text-white"),children:"\u6210\u7e3e"}),(0,r.jsx)("th",{className:"".concat(c," tw-text-white"),children:"\u984c\u76ee"}),(0,r.jsx)("th",{className:"".concat(c," tw-text-white"),children:"\u4f60\u7684\u7b54\u6848"}),(0,r.jsx)("th",{className:"".concat(c," tw-text-white"),children:"\u6b63\u78ba\u7b54\u6848"})]})}),(0,r.jsx)("tbody",{children:u})]})})},l=n(3347),d=n(7175),f=n.n(d),w=n(3829),h=n.n(w),x=function(t){var e=t.currentTopic,n=t.wordData,o=t.onNext,a=t.setAnswer,c=(0,l.Z)(),u=(0,i.useState)(""),d=u[0],w=u[1],x=n.en,v=n.zh,b=n.parts,m=n.id;return(0,i.useEffect)((function(){w("")}),[n]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"tw-text-md tw-text-wine tw-leading-7 tw-mb-4",children:["\u7b2c"," ",e+1," ","\u984c"]}),(0,r.jsx)("div",{className:h().textInput,children:(0,r.jsx)("input",{type:"text",value:d,onChange:function(t){var e=t.target.value;w(e.toLowerCase())},placeholder:"\u8acb\u8f38\u5165\u6b63\u78ba\u7684\u82f1\u6587\u55ae\u5b57"})}),(0,r.jsxs)("div",{className:h().descriptionArea,children:[(0,r.jsx)("div",{className:"tw-absolute tw-top-0.5 tw-left-0",children:(0,r.jsx)("button",{type:"button","aria-label":"speech",className:f()["speech-btn"],onClick:function(){return c(x)}})}),(0,r.jsx)(s.Z,{id:m,wordsList:v,partsList:b})]}),(0,r.jsxs)("div",{className:"tw-flex tw-justify-center",children:[(0,r.jsx)("button",{type:"button",className:"\n              ".concat(h().button,"\n              ").concat(""===d.trim()?h()["is-disabled"]:"","\n            "),onClick:function(){var t=d.trim();""!==t&&a({id:m,answer:t,solution:x,result:!(t!==x)})},children:"\u9001\u51fa"}),(0,r.jsx)("button",{type:"button",className:h().button,onClick:function(){a({id:m,answer:"",solution:x,result:!1}),o()},children:"\u7565\u904e"})]})]})})},v=function(t,e){for(var n=[],r=[];n.length<t;){var i=Math.round(Math.random()*e);r[i]||(r[i]=!0,n.push(i))}return n},b=n(6624),m=function(t){var e=t.quantity,n=void 0===e?10:e,s=t.onCancelExam,c=void 0===s?function(){}:s,l=(0,o.I0)(),d=(0,o.v9)((function(t){return t.collection.words})),f=(0,o.v9)((function(t){return t.examination})).isExamTesting,w=(0,i.useState)(!1),m=w[0],p=w[1],j=(0,i.useState)([]),_=j[0],y=j[1],g=(0,i.useState)(0),N=g[0],S=g[1],k=(0,i.useState)([]),E=k[0],A=k[1],C=(0,i.useState)(0),L=C[0],R=C[1],T=function(){var t=v(n,d.length);p(!1),S(0),A([]),y(t.map((function(t){return d[t]}))),l((0,b.Lf)(!0))},I=function(){var t=N+1;t>n-1?(p(!0),S(0),y([]),l((0,b.Lf)(!1))):S(t)};return(0,i.useEffect)((function(){return T(),function(){l((0,b.Lf)(!1))}}),[]),(0,i.useEffect)((function(){var t=E.filter((function(t){return!0===t.result})).length/E.length,e=Number.isNaN(t)?0:t,n=Math.floor(100*e);R(n)}),[E]),(0,r.jsxs)("div",{children:[f&&(0,r.jsx)(x,{currentTopic:N,wordData:_[N],onNext:I,setAnswer:function(t){A([].concat((0,a.Z)(E),[t])),I()}}),!f&&m&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"tw-text-wine/80 tw-my-8 tw-text-md tw-text-center",children:["\u6211\u7684\u5206\u6578\uff1a",L,"\u5206"]}),(0,r.jsx)(u,{scoreList:E}),(0,r.jsxs)("div",{className:"tw-my-5 tw-flex tw-justify-center",children:[(0,r.jsx)("button",{type:"button",className:h().button,onClick:T,children:"\u518d\u6b21\u6e2c\u9a57"}),(0,r.jsx)("button",{type:"button",className:h().button,onClick:c,children:"\u8fd4\u56de\u4e3b\u9801"})]})]})]})},p=function(){var t=(0,o.I0)(),e=(0,i.useState)(""),n=e[0],a=e[1];return(0,i.useEffect)((function(){return function(){t((0,b.Lf)(!1))}}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"title",children:"\u55ae\u5b57\u6e2c\u9a57"}),(0,r.jsxs)("div",{className:"content",children:[""===n&&(0,r.jsxs)("div",{className:"tw-py-5 tw-px-4 tw-rounded-lg tw-shadow-[0_1px_3px_0_rgba(51,51,51,0.4)]",children:[(0,r.jsx)("div",{className:"tw-text-wine/80 tw-my-5 tw-text-md tw-text-center",children:"\u55ae\u5b57\u586b\u7a7a\u6e2c\u9a57 (10\u984c)"}),(0,r.jsx)("div",{className:"tw-my-5 tw-flex tw-justify-center",children:(0,r.jsx)("button",{type:"button",className:h().button,onClick:function(){return a("writedExam")},children:"\u958b\u59cb\u6e2c\u9a57"})})]}),"writedExam"===n&&(0,r.jsx)(m,{quantity:10,onCancelExam:function(){return a("")}})]})]})}},3347:function(t,e,n){"use strict";var r=n(7294),i=n(5827);e.Z=function(){var t=(0,i.h5)(),e=t.speak,n=t.speaking;return(0,r.useCallback)((function(t){!1===n&&e({text:t})}),[e,n])}},4703:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quiz",function(){return n(4482)}])},7175:function(t){t.exports={"fab-btn":"button_fab-btn__3WWnB","fab__sort-down-btn":"button_fab__sort-down-btn__3smar","is-down-alt":"button_is-down-alt__7NUFE","fab__update-btn":"button_fab__update-btn__3hUwH","speech-btn":"button_speech-btn__3FkzA"}},3829:function(t){t.exports={button:"examination_button__15LQY","is-disabled":"examination_is-disabled__4a9cL",textInput:"examination_textInput__15FrI",descriptionArea:"examination_descriptionArea__3MTKR"}},5827:function(t,e,n){"use strict";var r=n(219);var i=n(4989);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"h5",{enumerable:!0,get:function(){return o(i).default}})},219:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){i=!0,o=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(7294);var o=function(t,e){var n=(0,i.useRef)((function(){throw new Error("Cannot call an event handler while rendering.")}));return(0,i.useEffect)((function(){n.current=t}),[t].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e))),(0,i.useCallback)((function(t){return(0,n.current)(t)}),[n])};e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onEnd,n=void 0===e?function(){}:e,a=t.onResult,s=void 0===a?function(){}:a,c=t.onError,u=void 0===c?function(){}:c,l=(0,i.useRef)(null),d=(0,i.useState)(!1),f=r(d,2),w=f[0],h=f[1],x=(0,i.useState)(!1),v=r(x,2),b=v[0],m=v[1],p=function(t){var e=Array.from(t.results).map((function(t){return t[0]})).map((function(t){return t.transcript})).join("");s(e)},j=function(t){"not-allowed"===t.error&&(l.current.onend=function(){},h(!1)),u(t)},_=o((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!w&&b){var e=t.lang,n=void 0===e?"":e,r=t.interimResults,i=void 0===r||r,o=t.continuous,a=void 0!==o&&o,s=t.maxAlternatives,c=void 0===s?1:s,u=t.grammars;h(!0),l.current.lang=n,l.current.interimResults=i,l.current.onresult=p,l.current.onerror=j,l.current.continuous=a,l.current.maxAlternatives=c,u&&(l.current.grammars=u),l.current.onend=function(){return l.current.start()},l.current.start()}}),[w,b,l]),y=o((function(){w&&b&&(l.current.onresult=function(){},l.current.onend=function(){},l.current.onerror=function(){},h(!1),l.current.stop(),n())}),[w,b,l,n]);return(0,i.useEffect)((function(){"undefined"!==typeof window&&(window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition,window.SpeechRecognition&&(m(!0),l.current=new window.SpeechRecognition))}),[]),{listen:_,listening:w,stop:y,supported:b}}},4989:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){i=!0,o=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(7294);e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onEnd,n=void 0===e?function(){}:e,o=(0,i.useState)([]),a=r(o,2),s=a[0],c=a[1],u=(0,i.useState)(!1),l=r(u,2),d=l[0],f=l[1],w=(0,i.useState)(!1),h=r(w,2),x=h[0],v=h[1],b=function(t){c(t)},m=function(){var t=window.speechSynthesis.getVoices();t.length>0?b(t):window.speechSynthesis.onvoiceschanged=function(e){t=e.target.getVoices(),b(t)}},p=function(){f(!1),n()};(0,i.useEffect)((function(){"undefined"!==typeof window&&window.speechSynthesis&&(v(!0),m())}),[]);var j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.voice,n=void 0===e?null:e,r=t.text,i=void 0===r?"":r,o=t.rate,a=void 0===o?1:o,s=t.pitch,c=void 0===s?1:s,u=t.volume,l=void 0===u?1:u;if(x){f(!0);var d=new window.SpeechSynthesisUtterance;d.text=i,d.voice=n,d.onend=p,d.rate=a,d.pitch=c,d.volume=l,window.speechSynthesis.speak(d)}},_=function(){x&&(f(!1),window.speechSynthesis.cancel())};return{supported:x,speak:j,speaking:d,cancel:_,voices:s}}}},function(t){t.O(0,[774,888,179],(function(){return e=4703,t(t.s=e);var e}));var e=t.O();_N_E=e}]);